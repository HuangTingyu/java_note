### 分钱问题

房间里有100人，每人都有100元，每轮游戏中，每个人都要拿1元钱随机给另一个人，请问最后这100人的财富分布。



### 代码保存

`AlgoFrame.java`

```java
public class AlgoFrame extends JFrame{
	......
	private int[] money;
    public void render(int[] money){
        this.money = money;
        repaint();
    }

}
```



绘制部分

`AlgoFrame.java`

```java
private class AlgoCanvas extends JPanel{
	@Override
        public void paintComponent(Graphics g) {
        	......
        	AlgoVisHelper.setColor(g2d, AlgoVisHelper.Blue);

            int w = canvasWidth / money.length;
            for(int i=0; i<money.length; i++){
                // 绘制矩形，x坐标，y坐标，宽，高
                AlgoVisHelper.fillRectangle(g2d, i*w+1,canvasHeight-money[i],w-1,money[i]);
            }
        }
}
```

这里设置横坐标`i*w+1` 是为了让矩形左边留出空隙，纵坐标`canvasHeight-money[i]` 是因为屏幕坐标系是以屏幕左上角为原点。宽度`w-1` 也是为了留空隙，高度money[i] 是表示每个人手里的钱。

<img src="..\..\image\rectHeight.png" alt="rectHeight" style="zoom:30%;" />



数据定义部分

```java
public class AlgoVisualizer {
	private static int DELAY = 40; //40ms, 调帧率1000/40=25帧
    private int[] money;
    public AlgoVisualizer(int sceneWidth, int sceneHeight){

        // 初始化数据
        // TODO: 初始化数据
        money = new int[100];
        for(int i = 0; i < money.length; i++)
            money[i] = 100; // 每个人手里100元

        ......
    }
}
```





```java
// 动画逻辑
    private void run(){

        // TODO: 编写自己的动画逻辑
        while (true){
            frame.render(money);
            AlgoVisHelper.pause(DELAY);

            for(int i =0; i<money.length;i++){
                if(money[i]>0){
                    int j = (int)(Math.random()*money.length); //取0-100之间的随机数
                    // 随机挑一个人给1元
                    money[i]-=1;
                    money[j]+=1;
                }
            }
        }
    }
```

